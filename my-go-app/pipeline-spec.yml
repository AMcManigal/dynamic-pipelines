version: '1.0'
kind: pipeline
metadata:
  name: kostis-codefresh/dynamic-pipelines/my-go-app-pipeline
  description: "Docker creation for sample GO app"
  isPublic: false
  labels:
    tags: []
  deprecate:
    repoPipeline: true
  project: kostis-codefresh/dynamic-pipelines
spec:
  triggers:
    - type: git
      repo: kostis-codefresh/dynamic-pipelines
      events:
        - push
      branchRegex: /.*/gi
      modifiedFilesGlob: 'my-go-app/**'
      provider: github
  contexts: []
  variables:
    - key: PORT
      value: '8080'
  steps:
    BuildingDockerImage:
      title: Building Docker Image
      type: build
      image_name: my-monorepo-go-app
      working_directory: ./my-go-app
      tag: '${{CF_BRANCH_TAG_NORMALIZED}}-${{CF_SHORT_REVISION}}'
      dockerfile: Dockerfile
  stages: []

